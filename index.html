<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>B.C.H.E Terminal</title>
  <style>
    body {
      background: black;
      color: #00FF00;
      font-family: 'Courier New', monospace;
      padding: 20px;
      white-space: pre-wrap;
      overflow: hidden;
      transition: all 0.1s ease-in-out;
    }
    .red { color: red; }
    #final-screen {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: black;
      color: red;
      font-size: 32px;
      font-family: monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 999;
      display: none;
      animation: flash 1s infinite alternate;
    }
    @keyframes flash {
      from { background: black; color: red; }
      to { background: red; color: black; }
    }
    @keyframes shake {
      0% { transform: translate(1px, 1px); }
      25% { transform: translate(-1px, 2px); }
      50% { transform: translate(-3px, 1px); }
      75% { transform: translate(3px, -1px); }
      100% { transform: translate(1px, 1px); }
    }
  </style>
</head>
<body onclick="startAudio()">
  <div id="terminal"></div>
  <div id="final-screen">
    YOU SHOULDN’T HAVE SEEN THAT CAMERA. :)<br>
    THE CONTROL IS MINE :)
  </div>

  <audio id="glitchSound" src="https://assets.mixkit.co/sfx/preview/mixkit-glitchy-robot-alarm-993.mp3"></audio>
  <audio id="scarySound" src="https://assets.mixkit.co/sfx/preview/mixkit-creepy-laugh-voice-3043.mp3" loop></audio>

  <script>
    const terminal = document.getElementById('terminal');
    const glitchSound = document.getElementById('glitchSound');
    const scarySound = document.getElementById('scarySound');
    const finalScreen = document.getElementById('final-screen');

    function startAudio() {
      glitchSound.play();
      scarySound.play();
    }

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function typeLine(text, prompt = true, newline = true, speed = 100) {
      const line = document.createElement('div');
      if (prompt) line.textContent = "> ";
      terminal.appendChild(line);
      for (let i = 0; i < text.length; i++) {
        line.textContent += text[i];
        await sleep(speed);
      }
      if (newline) terminal.appendChild(document.createElement('br'));
      terminal.scrollTop = terminal.scrollHeight;
    }

    function print(text, color = "#00FF00") {
      const span = document.createElement('div');
      span.innerHTML = `<span style="color:${color}">${text}</span>`;
      terminal.appendChild(span);
      terminal.scrollTop = terminal.scrollHeight;
    }

    async function runTerminal() {
      await typeLine("login id: 1038");
      await sleep(500);
      await typeLine("password: ••••");
      await sleep(500);
      print("Access granted. Welcome, Agent.");
      await sleep(800);
      await typeLine("init.syscore");
      await sleep(300);
      print("System successfully launched.");
      await sleep(700);
      await typeLine("cameras.interface.viewer");
      await sleep(600);
      print("Fetching camera statuses...\n");

      for (let i = 1; i <= 100; i++) {
        const name = `camera_${i.toString().padStart(2, '0')}`;
        const status = (i === 17) ? "online" : "offline";
        const color = (i === 17) ? "#00FF00" : "red";
        print(`${name}: ${status}`, color);
        await sleep(30);
      }

      await sleep(1000);
      beginCorruption();
    }

    function beginCorruption() {
      const messages = [
        "error :)",
        "The CONTROL has been taken :)",
        "I found you :)",
        "Why are you here :)",
        "access denied :)",
        ":) :) :) :) :) :)",
        "I’m coming :)",
        "System Overwritten :)",
        "You can’t stop me :)"
      ];

      let count = 0;
      const interval = setInterval(() => {
        const msg = document.createElement('div');
        msg.innerHTML = `<span class='red'>${messages[Math.floor(Math.random() * messages.length)]}</span>`;
        terminal.appendChild(msg);
        terminal.scrollTop = terminal.scrollHeight;

        document.body.style.animation = 'shake 0.2s';
        setTimeout(() => document.body.style.animation = '', 100);

        if (Math.random() < 0.5) {
          document.body.style.background = '#3a0000';
          setTimeout(() => document.body.style.background = 'black', 150);
        }

        glitchSound.currentTime = 0;
        glitchSound.play();

        count++;
        if (count > 35) {
          clearInterval(interval);
          scarySound.play();
          setTimeout(() => {
            terminal.innerHTML = "";
            finalScreen.style.display = "flex";
          }, 1000);
        }
      }, 200);
    }

    setTimeout(runTerminal, 1000);
  </script>
</body>
</html>
